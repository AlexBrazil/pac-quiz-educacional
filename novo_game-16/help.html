<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Guia de Customização do Pac-Quiz Educacional</title>
  <style>
    :root {
      color-scheme: dark;
      font-family: "Roboto", Arial, sans-serif;
      background: #0d1117;
      color: #d9e0f1;
    }
    body {
      margin: 0;
      padding: 32px clamp(16px, 4vw, 64px);
      line-height: 1.65;
    }
    main {
      max-width: 960px;
      margin: 0 auto;
    }
    h1, h2, h3 {
      font-family: "Permanent Marker", "Roboto Slab", system-ui;
      color: #ffd740;
      margin-bottom: 0.35em;
    }
    h2 { margin-top: 2.5rem; }
    h3 { margin-top: 1.8rem; }
    p { margin: 0.65em 0; }
    ol, ul { margin: 0.75em 0 0.75em 1.35em; }
    code {
      font-family: "Fira Code", "Courier New", monospace;
      background: rgba(255, 255, 255, 0.08);
      padding: 0.1em 0.35em;
      border-radius: 4px;
    }
    .file-ref {
      display: inline-flex;
      align-items: center;
      gap: 0.4em;
      padding: 0.2em 0.6em;
      border-radius: 999px;
      background: rgba(0, 196, 255, 0.07);
      border: 1px solid rgba(0, 196, 255, 0.18);
      font-size: 0.9em;
    }
    .tip {
      border-left: 4px solid #00e676;
      padding: 0.75em 1em;
      background: rgba(0, 230, 118, 0.08);
      border-radius: 6px;
      margin: 1em 0;
    }
    .warn {
      border-left: 4px solid #ff7043;
      padding: 0.75em 1em;
      background: rgba(255, 112, 67, 0.08);
      border-radius: 6px;
      margin: 1em 0;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1em 0;
      background: rgba(255, 255, 255, 0.04);
      border-radius: 8px;
      overflow: hidden;
    }
    th, td {
      padding: 0.75em 1em;
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
      vertical-align: top;
    }
    th {
      text-align: left;
      background: rgba(255, 255, 255, 0.06);
      font-weight: 600;
    }
    tbody tr:last-child td { border-bottom: none; }
  </style>
</head>
<body>
  <main>
    <h1>Guia de Customização do Pac-Quiz Educacional</h1>
    <p>
      Este documento reúne orientações práticas para adaptar o jogo a novos temas,
      além de detalhar cada configuração disponível. <strong>Sempre faça uma cópia
      de segurança do diretório <code>novo_game/</code> antes de qualquer alteração</strong>
      para que seja simples reverter um ajuste caso algo saia do esperado.
    </p>

    <section id="nova-atividade">
      <h2>1. Como criar uma nova atividade com outro tema</h2>
      <div class="warn">
        <strong>Backup obrigatório:</strong> duplique a pasta
        <code>novo_game/</code> (ou crie um repositório Git) antes de editar arquivos.
        Assim você pode comparar versões ou restaurar rapidamente o estado original.
      </div>

      <ol>
        <li>
          <strong>Defina o tema e reúna os recursos visuais/sonoros.</strong>
          Separe imagens em formato <code>.png</code> ou <code>.jpg</code> para cada alternativa
          e prepare efeitos sonoros próprios caso deseje uma identidade completa.
        </li>
        <li>
          <strong>Atualize as perguntas e respostas.</strong>
          Edite <span class="file-ref">config/questions.json</span> para criar fases, perguntas e alternativas:
          <ul>
            <li>Troque os campos <code>title</code>, <code>prompt</code>, <code>feedback</code> e os caminhos de imagem.</li>
            <li>Regule <code>powerDuration</code> e <code>ghostSpeedModifier</code> por fase para ajustar a duração do poder e a velocidade das amebas.</li>
            <li>Se necessário, adicione mais fases ao array <code>phases</code>.</li>
          </ul>
        </li>
        <li>
          <strong>Configure o comportamento geral do jogo.</strong>
          Abra <span class="file-ref">config/game-settings.json</span> para ajustar:
          <ul>
            <li><code>initialLives</code> e <code>maxLives</code> (vidas iniciais e limite máximo).</li>
            <li><code>ghostSpeedModifier</code> (multiplicador global de velocidade das amebas).</li>
            <li><code>answerScale</code> (tamanho das imagens coletáveis).</li>
            <li><code>answerSlots</code> e <code>playerStart</code> caso deseje reposicionar os itens no labirinto.</li>
          </ul>
        </li>
        <li>
          <strong>Troque os assets visuais.</strong>
          Substitua ou adicione arquivos em <span class="file-ref">assets/image/</span>
          e atualize os caminhos nas perguntas. Respeite proporções similares para manter boa visualização.
        </li>
        <li>
          <strong>Customize o tema visual.</strong>
          Ajuste cores, fontes e layout em <span class="file-ref">styles.css</span>
          alterando as variáveis CSS da seção <code>:root</code>.
        </li>
        <li>
          <strong>Personalize os sons.</strong>
          Coloque novos arquivos <code>.wav</code> em <span class="file-ref">assets/audio/</span>
          e, se necessário, ajuste o campo <code>audioRoot</code> em <span class="file-ref">config/game-settings.json</span>.
        </li>
        <li>
          <strong>Atualize a identidade textual.</strong>
          Modifique o título da aba e o texto introdutório em <span class="file-ref">index.html</span>.
        </li>
        <li>
          <strong>Teste imediatamente no navegador.</strong>
          Use o console (F12) para verificar erros de carregamento de assets e confirme:
          <ul>
            <li>layout do HUD de acordo com o tema;</li>
            <li>imagens surgindo na posição correta;</li>
            <li>sons tocando em acertos, erros e colisões com amebas;</li>
            <li>transição entre fases e feedbacks exibidos.</li>
          </ul>
        </li>
      </ol>

      <div class="tip">
        Caso a nova atividade seja destinada a outra disciplina, avalie criar uma cópia da pasta
        <code>novo_game/</code> com um nome diferente (ex.: <code>novo_game_ciencias/</code>)
        para manter versões independentes e facilitar futuras atualizações.
      </div>
    </section>

    <section id="config-detalhadas">
      <h2>2. Referência completa de configurações</h2>
      <p>
        A lista abaixo descreve todos os arquivos editáveis e os efeitos de cada propriedade.
        Lembre-se de criar um backup antes de modificar qualquer um deles.
      </p>

      <h3>2.1 Arquivos de conteúdo e fluxo</h3>
      <table>
        <thead>
          <tr>
            <th>Arquivo</th>
            <th>Descrição</th>
            <th>Parâmetros principais</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><span class="file-ref">config/questions.json</span></td>
            <td>
              Define fases, perguntas, alternativas e mensagens de feedback. Permite controlar dinamicamente o comportamento
              por fase (ex.: duração do poder e velocidade das amebas).
            </td>
            <td>
              <ul>
                <li><code>phases[].id</code> &amp; <code>title</code>: identificador e título exibido.</li>
                <li><code>phases[].powerDuration</code>: segundos de poder concedido ao acertar.</li>
                <li><code>phases[].ghostSpeedModifier</code>: sobrepõe o multiplicador global enquanto a fase está ativa.</li>
                <li><code>questions[].answers[]</code>:
                  <code>image</code>, <code>correct</code>, <code>grantsPower</code> e mensagens <code>feedback</code>.</li>
              </ul>
            </td>
          </tr>
          <tr>
            <td><span class="file-ref">config/game-settings.json</span></td>
            <td>
              Personaliza regras gerais do jogo e posicionamento dos itens. Valores ausentes recebem defaults definidos em
              <code>normalizeSettings</code> dentro de <span class="file-ref">script.js</span>.
            </td>
            <td>
              <ul>
                <li><code>initialLives</code>, <code>maxLives</code>, <code>lifeRewardOnCorrect</code>, <code>lifePenaltyWrong</code>, <code>lifePenaltyGhost</code>.</li>
                <li><code>powerDurationSeconds</code> &amp; <code>transitionDelaySeconds</code>.</li>
                <li><code>answerScale</code> (escala dos sprites das respostas) e <code>answerSlots</code> (coordenadas opcionais).</li>
                <li><code>questionOrder</code> / <code>phaseOrder</code>: <code>"sequential"</code> ou <code>"random"</code>.</li>
                <li><code>ghostSpeedModifier</code>: multiplicador aplicado aos movimentos das amebas (1 = velocidade original).</li>
                <li><code>playerStart</code> (opcional): tile inicial do robô, informado como coordenadas <code>{ "x": ?, "y": ? }</code>.</li>
                <li><code>audioRoot</code>: pasta base dos efeitos sonoros.</li>
              </ul>
            </td>
          </tr>
          <tr>
            <td><span class="file-ref">config/maze-layout.js</span> e <span class="file-ref">config/maze-walls.js</span></td>
            <td>
              Descrevem o labirinto. Alterar estes arquivos muda a topologia do mapa.
              Requer atenção à estrutura original (arrays de pontos e curvas). Sempre faça backup antes de desenhar um novo labirinto.
            </td>
            <td>
              <ul>
                <li><code>MAZE_LAYOUT</code>: matriz com blocos (<code>Pacman.WALL</code>, <code>Pacman.EMPTY</code>, etc.).</li>
                <li><code>MAZE_WALLS</code>: caminhos usados para desenhar os contornos.</li>
              </ul>
            </td>
          </tr>
          <tr>
            <td><span class="file-ref">index.html</span></td>
            <td>
              Estrutura base da página. Altere títulos, textos introdutórios ou adicione links de instrução adicionais.
            </td>
            <td>
              <ul>
                <li><code>&lt;title&gt;</code>: texto da aba.</li>
                <li>Elementos do HUD são buscados por ID (<code>question-text</code>, <code>life-counter</code>, etc.).</li>
              </ul>
            </td>
          </tr>
        </tbody>
      </table>

      <h3>2.2 Aparência e áudio</h3>
      <table>
        <thead>
          <tr>
            <th>Arquivo</th>
            <th>Função</th>
            <th>O que pode ser ajustado</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><span class="file-ref">styles.css</span></td>
            <td>Controle visual do HUD e do contêiner do jogo.</td>
            <td>
              <ul>
                <li>Variáveis <code>:root</code> para alterar cores, fontes e feedbacks.</li>
                <li>Dimensões do tabuleiro (<code>#pacman</code>) e espaçamentos.</li>
                <li>Responsividade nas regras <code>@media</code>.</li>
              </ul>
            </td>
          </tr>
          <tr>
            <td><span class="file-ref">assets/image/</span></td>
            <td>Sprites utilizados nas respostas e elementos visuais customizados.</td>
            <td>
              <ul>
                <li>Use nomes claros e atualize as referências em <code>questions.json</code>.</li>
                <li>Manter dimensões parecidas evita distorções quando <code>answerScale</code> muda.</li>
              </ul>
            </td>
          </tr>
          <tr>
            <td><span class="file-ref">assets/audio/</span></td>
            <td>Efeitos sonoros no formato <code>.wav</code>.</td>
            <td>
              <ul>
                <li><code>start.wav</code>, <code>correct.wav</code>, <code>wrong.wav</code>, <code>die.wav</code>, <code>eatghost.wav</code>, <code>eatpill.wav</code>, <code>eating.wav</code>, <code>eating2.wav</code>.</li>
                <li>Troque os arquivos mantendo o mesmo nome ou ajuste o array <code>audio_files</code> em <span class="file-ref">script.js</span>.</li>
              </ul>
            </td>
          </tr>
        </tbody>
      </table>

      <h3>2.3 Ajustes avançados em <span class="file-ref">script.js</span></h3>
      <p>
        O arquivo principal contém lógica de jogo e diversos pontos de personalização. Qualquer mudança requer atenção e, idealmente,
        versionamento. Principais ganchos:
      </p>
      <ul>
        <li>
          <strong>Cores das amebas</strong>: altere o array <code>ghostSpecs</code> (linha próxima a 1541) para redefinir a paleta.
        </li>
        <li>
          <strong>Design do robô</strong>: função <code>renderRobot</code> (c. 667) permite modificar cores e formas do avatar.
        </li>
        <li>
          <strong>Velocidade das amebas</strong>:
          <ul>
            <li>Multiplicador global vindo de <code>settings.ghostSpeedModifier</code> (definido em <code>game-settings.json</code>).</li>
            <li>Multiplicador por fase através de <code>phase.ghostSpeedModifier</code> em <code>questions.json</code>.</li>
          </ul>
          Ambos são combinados para determinar o valor final usado nas funções de movimento dos fantasmas.
        </li>
        <li>
          <strong>Escala das respostas</strong>: <code>answerScale</code> impacta <code>renderSize</code> e <code>radius</code> na função <code>buildItem</code>.
        </li>
        <li>
          <strong>Posicionamento manual</strong>: <code>answerSlots</code> e <code>playerStart</code> são interpretados por <code>AnswerManager</code>. Utilize coordenadas de tiles (0–18 no eixo X, 0–21 no eixo Y).
        </li>
        <li>
          <strong>Sons customizados</strong>: array <code>audio_files</code> (próximo à linha 2170) define o mapeamento entre identificadores e arquivos.
        </li>
        <li>
          <strong>HUD e feedback</strong>: funções <code>setQuestionText</code>, <code>setFeedback</code> e <code>updateHudStats</code> centralizam as atualizações de interface.
        </li>
      </ul>

      <div class="warn">
        <strong>Dica de segurança:</strong> sempre teste as alterações em um navegador com as DevTools abertas.
        Erros comuns (JSON inválido, imagem faltando, áudio com caminho incorreto) aparecerão no console e são mais fáceis de corrigir imediatamente.
      </div>
    </section>
  </main>
</body>
</html>
